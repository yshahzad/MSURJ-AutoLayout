<!doctype html>
<link rel="icon" href="/webapp/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="../static/styles.css"/>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MSURJ AutoLayout</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.3.0/prototype.js"></script>
    <script src="../script.js"></script>
  </head>
  <body>
    <div id="topnav"></div>
    <div class="bg"></div>
    <div class="card">
      <header class="header">
        <div class="title-row">
          <h1>MSURJ AutoLayout</h1>
          <img
            class="title-logo"
            src="../static/msurj_logo.png"
            alt="MSURJ Logo"
          />
        </div>
        <p class="sub">
          Upload a pre-processed Word document and fill in the metadata form. This tool creates an Overleaf-ready
          folder of the LaTeX-formatted manuscript.
        </p>
      </header>

      <form class="form" action="/convert" method="post" enctype="multipart/form-data">
        <section class="group">
          <h2>Manuscript</h2>
          <label class="dropzone" for="manuscript">
            <input id="manuscript" name="manuscript" type="file" accept=".docx" />
            <div class="dropzone-text">
              <span class="dropzone-title">Drag and Drop a .docx File</span>
              <span class="dropzone-sub">or Click to Browse</span>
              <span class="filename" id="filename">No File Selected</span>
            </div>
          </label>
        </section>

        <section class="group">
          <h2>Metadata</h2>
          <div class="grid">
            <div class="span-2">
              <div class="field-title">Authors</div>
              <div class="authors" id="authors">
                <div class="author-row">
                  <label>
                    <span class="author-label">Author 1</span>
                    <input name="authors" type="text" placeholder="Last, First" required />
                  </label>
                  <label>
                    <span class="author-label">Affiliation 1</span>
                    <input
                      name="author_affiliations"
                      type="text"
                      placeholder="Department, Institution"
                      required
                    />
                  </label>
                </div>
              </div>
              <button type="button" id="add-author" class="add-author">Add Author</button>
              <button type="button" class="remove-author" aria-label="Remove Author">Remove All</button>
            </div>
            <label>
              Title
              <input name="title" type="text" required />
            </label>
            <label>
              Submitted Date
              <input name="submitted_date" type="text" placeholder="MM/DD/YYYY" required />
            </label>
            <label>
              Article Type
              <input name="article_type" type="text" placeholder="Research Article" required />
            </label>
            <label>
              Keywords
              <input name="keywords" type="text" required />
            </label>
            <label>
              Corresponding Author Email
              <input name="email" type="email" required />
            </label>
          </div>
        </section>

        <details class="group optional">
          <summary>Optional fields</summary>
          <div class="optional-body">
            <label>
              AnyStyle CLI Path
              <input
                name="anystyle_cmd"
                type="text"
                placeholder="anystyle"
              />
            </label>
          </div>
        </details>

        <button type="submit" class="submit">Build ZIP</button>
      </form>
    </div>
  <div id="footer"></div>
  </body>
</html>
